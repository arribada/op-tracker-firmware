<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&#x202A;Krd firmware: &#x202A;MCU_APP_WRAPPERS</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../kineis_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&#x202A;Krd firmware
   &#160;<span id="projectnumber">&#x202A;v10.0.1</span>
   </div>
   <div id="projectbrief">&#x202A;Firmware application for Kin√©is reference design project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MCU_APP_WRAPPERS</div>  </div>
</div><!--header-->
<div class="contents">

<p>&#x202A;MCU wrapper used by Kineis Application example.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga39da7549976e5a5c91deff40e6044f03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga39da7549976e5a5c91deff40e6044f03">USART_ISR_RXNE</a>&#160;&#160;&#160;USART_ISR_RXNE_RXFNE</td></tr>
<tr class="separator:ga39da7549976e5a5c91deff40e6044f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga923af2d146f214e75816a7f5993cee29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga923af2d146f214e75816a7f5993cee29">TXBUF_SIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:ga923af2d146f214e75816a7f5993cee29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga630686ccbe0cb17e592951055a5da582"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga630686ccbe0cb17e592951055a5da582">RXBUF_SIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:ga630686ccbe0cb17e592951055a5da582"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga74be300679e0b76678c55d7c8b609e6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga74be300679e0b76678c55d7c8b609e6a">MCU_AT_CONSOLE_register</a> (void *context, bool(*rx_evt_cb)(uint8_t *pu8_RxBuffer, int16_t *pi16_nbRxValidChar))</td></tr>
<tr class="memdesc:ga74be300679e0b76678c55d7c8b609e6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Start AT CMD console for AT cmd reception.  <a href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga74be300679e0b76678c55d7c8b609e6a">More...</a><br /></td></tr>
<tr class="separator:ga74be300679e0b76678c55d7c8b609e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae14ee3e1d2a9b459c0d89c451a4bc470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gae14ee3e1d2a9b459c0d89c451a4bc470">MCU_AT_CONSOLE_send</a> (const char *format,...)</td></tr>
<tr class="memdesc:gae14ee3e1d2a9b459c0d89c451a4bc470"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Send AT CMD response to console.  <a href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gae14ee3e1d2a9b459c0d89c451a4bc470">More...</a><br /></td></tr>
<tr class="separator:gae14ee3e1d2a9b459c0d89c451a4bc470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6858a5591eaf9e21e59a15188ff6f13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gaf6858a5591eaf9e21e59a15188ff6f13">MCU_AT_CONSOLE_send_dataBuf</a> (uint8_t *pu8_inDataBuff, uint16_t u16_dataLenBit)</td></tr>
<tr class="memdesc:gaf6858a5591eaf9e21e59a15188ff6f13"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Write content of a binary data buffer as AT cmd response.  <a href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gaf6858a5591eaf9e21e59a15188ff6f13">More...</a><br /></td></tr>
<tr class="separator:gaf6858a5591eaf9e21e59a15188ff6f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeda0953e4ffe9aae0475009c1d221944"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gaeda0953e4ffe9aae0475009c1d221944">KINEIS_RxISR_8BIT</a> (UART_HandleTypeDef *huart)</td></tr>
<tr class="memdesc:gaeda0953e4ffe9aae0475009c1d221944"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;RX interrupt handler for 7 or 8 bits data word length .  <a href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gaeda0953e4ffe9aae0475009c1d221944">More...</a><br /></td></tr>
<tr class="separator:gaeda0953e4ffe9aae0475009c1d221944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fbcd5790071dab1b10a9196607692b8"><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga2fbcd5790071dab1b10a9196607692b8">KINEIS_UART_StartRx_IT</a> (UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size)</td></tr>
<tr class="memdesc:ga2fbcd5790071dab1b10a9196607692b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Enable and start RX interrupt from UART.  <a href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga2fbcd5790071dab1b10a9196607692b8">More...</a><br /></td></tr>
<tr class="separator:ga2fbcd5790071dab1b10a9196607692b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab3267c690b4135204529afc595a1e47b"><td class="memItemLeft" align="right" valign="top">static UART_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gab3267c690b4135204529afc595a1e47b">huart_handle</a></td></tr>
<tr class="separator:gab3267c690b4135204529afc595a1e47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac404dc63ccd5379ff301e0cedcbcdfb9"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gac404dc63ccd5379ff301e0cedcbcdfb9">uartTxBuf</a> [<a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga923af2d146f214e75816a7f5993cee29">TXBUF_SIZE</a>]</td></tr>
<tr class="separator:gac404dc63ccd5379ff301e0cedcbcdfb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59dc3450581a47e324a3237daae3b228"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga59dc3450581a47e324a3237daae3b228">uartRxBuf</a> [<a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga630686ccbe0cb17e592951055a5da582">RXBUF_SIZE</a>]</td></tr>
<tr class="separator:ga59dc3450581a47e324a3237daae3b228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad385353e1521d37adc5fdd7a2b4ef52"><td class="memItemLeft" align="right" valign="top">static bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#gaad385353e1521d37adc5fdd7a2b4ef52">rxEvtCb</a> )(uint8_t *pu8_RxBuffer, int16_t *pi16_nbRxValidChar)</td></tr>
<tr class="separator:gaad385353e1521d37adc5fdd7a2b4ef52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p class="DocNodeLTR">MCU wrapper used by Kineis Application example. </p>
<p class="DocNodeLTR">One has to implement API as per its microcontroller and its platform ressources.</p>
<p class="DocNodeLTR">One has to implement API as per its microcontroller and its platform ressources. This version is for STM32 uC such as STM32WLE5xx, STM32WL55xx. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga630686ccbe0cb17e592951055a5da582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga630686ccbe0cb17e592951055a5da582">&#9670;&nbsp;</a></span>RXBUF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RXBUF_SIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00039">39</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
<a id="ga923af2d146f214e75816a7f5993cee29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga923af2d146f214e75816a7f5993cee29">&#9670;&nbsp;</a></span>TXBUF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TXBUF_SIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00038">38</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
<a id="ga39da7549976e5a5c91deff40e6044f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39da7549976e5a5c91deff40e6044f03">&#9670;&nbsp;</a></span>USART_ISR_RXNE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USART_ISR_RXNE&#160;&#160;&#160;USART_ISR_RXNE_RXFNE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00031">31</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaeda0953e4ffe9aae0475009c1d221944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeda0953e4ffe9aae0475009c1d221944">&#9670;&nbsp;</a></span>KINEIS_RxISR_8BIT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void KINEIS_RxISR_8BIT </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>huart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&#x202A;RX interrupt handler for 7 or 8 bits data word length . </p>
<p class="DocNodeLTR">This function is highly based on STM32HAL_UART expect callback is called at each received character. This allow to treat RX received characters as a continuous stream.</p>
<p class="DocNodeLTR">At each received character, the callback is said to consume data, it updates the buffer pointer and the number-of-valid-char reduced by what was consummed.</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;In case of overflow on RX buffer, force write from the beginning of the buffer pRxBuffPtr. thus, the entire buffer may be lost. Actually, such case may only happen in case:<ul class="DocNodeLTR">
<li>&#x202A;user sent too much data in console, this is not an expected scenario</li>
<li>&#x202A;user has sent some garbage before its several AT cmds, leading accumuation to overflow. This is not an expected behaviour as well.</li>
</ul>
</dd></dl>
<dl class="todo DocNodeLTR"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000013">Todo:</a></b></dt><dd>&#x202A;circular buffer may be implemented instead of overflowing sometimes.</dd></dl>
<p class="DocNodeLTR">STM32HAL_UART base function prototype: </p><pre class="fragment">static void UART_RxISR_8BIT(UART_HandleTypeDef *huart)</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">huart</td><td>&#x202A;UART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00096">96</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 0 -->
</div>
</div>

</div>
</div>
<a id="ga2fbcd5790071dab1b10a9196607692b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fbcd5790071dab1b10a9196607692b8">&#9670;&nbsp;</a></span>KINEIS_UART_StartRx_IT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HAL_StatusTypeDef KINEIS_UART_StartRx_IT </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>huart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&#x202A;Enable and start RX interrupt from UART. </p>
<p class="DocNodeLTR">This function is highly based on STM32HAL_UART expect it called internal interrupt handler instead of generic one.</p>
<pre class="fragment">HAL_StatusTypeDef UART_Start_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size);
HAL_StatusTypeDef HAL_UART_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size);</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">huart</td><td>&#x202A;UART handle. </td></tr>
    <tr><td class="paramname">pData</td><td>&#x202A;Pointer to data buffer (u8 or u16 data elements). </td></tr>
    <tr><td class="paramname">Size</td><td>&#x202A;Amount of data elements (u8 or u16) to be received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>&#x202A;status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00164">164</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 1 -->
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 2 -->
</div>
</div>

</div>
</div>
<a id="ga74be300679e0b76678c55d7c8b609e6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74be300679e0b76678c55d7c8b609e6a">&#9670;&nbsp;</a></span>MCU_AT_CONSOLE_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MCU_AT_CONSOLE_register </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(uint8_t *pu8_RxBuffer, int16_t *pi16_nbRxValidChar)&#160;</td>
          <td class="paramname"><em>rx_evt_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Start AT CMD console for AT cmd reception. </p>
<p class="DocNodeLTR">It registers client's callback used to treat the received data stream. The callback will be called each a new character is received.</p>
<dl class="section attention DocNodeLTR"><dt>Attention</dt><dd>&#x202A;This callback may be called under interrupt context. thus, it must not last too long.</dd></dl>
<p class="DocNodeLTR">The format of client's callback is: </p><pre class="fragment">bool (*rx_evt_cb)(uint8_t *pu8_RxBuffer, int16_t *pi16_nbRxValidChar));</pre><p class="DocNodeLTR"> At each received character, the callback is said to consume data, it updates the buffer pointer and the number-of-valid-char reduced by what was consummed.</p><ul class="DocNodeLTR">
<li>&#x202A;[in/out] pu8_RxBuffer pointer to the data (update internally if some characters are consummed</li>
<li>&#x202A;[in/out] pi16_nbRxValidChar number of valid/remaining char</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>&#x202A;pointer which may be usefull to configure console (e.g. UART handle) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_evt_cb</td><td>&#x202A;pointer to callback invoked at each RX event, i.e. at each received char </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&#x202A;true if console is correcly started, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00213">213</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 3 -->
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 4 -->
</div>
</div>

</div>
</div>
<a id="gae14ee3e1d2a9b459c0d89c451a4bc470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae14ee3e1d2a9b459c0d89c451a4bc470">&#9670;&nbsp;</a></span>MCU_AT_CONSOLE_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCU_AT_CONSOLE_send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Send AT CMD response to console. </p>
<p class="DocNodeLTR">This function is used to print AT command's response on AT console. The prototype is same as printf. Depending on your needs, this function may only implement limited functionnality of printf (<code>man 3 printf</code> onlinux to get detailled description).</p>
<dl class="section note DocNodeLTR"><dt>Note</dt><dd>&#x202A;This could be redirected to printf if available in your application</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>&#x202A;refer to printf manual pages </td></tr>
  </table>
  </dd>
</dl>
<p class="DocNodeLTR">Check buffer is not overflowed, meaning console is not well dimensionned regarding AT cmd responses length</p>
<p class="DocNodeLTR">Console is said to be correctly initialized before use</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00225">225</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 5 -->
</div>
</div>

</div>
</div>
<a id="gaf6858a5591eaf9e21e59a15188ff6f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6858a5591eaf9e21e59a15188ff6f13">&#9670;&nbsp;</a></span>MCU_AT_CONSOLE_send_dataBuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCU_AT_CONSOLE_send_dataBuf </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_inDataBuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16_dataLenBit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Write content of a binary data buffer as AT cmd response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8_inDataBuff</td><td>&#x202A;pointer to data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u16_dataLenBit</td><td>&#x202A;length of data buffer in bit </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00251">251</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 6 -->
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 7 -->
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gab3267c690b4135204529afc595a1e47b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3267c690b4135204529afc595a1e47b">&#9670;&nbsp;</a></span>huart_handle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UART_HandleTypeDef* huart_handle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00044">44</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
<a id="gaad385353e1521d37adc5fdd7a2b4ef52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad385353e1521d37adc5fdd7a2b4ef52">&#9670;&nbsp;</a></span>rxEvtCb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool(* rxEvtCb) (uint8_t *pu8_RxBuffer, int16_t *pi16_nbRxValidChar) </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8_RxBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>pi16_nbRxValidChar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00048">48</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
<a id="ga59dc3450581a47e324a3237daae3b228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59dc3450581a47e324a3237daae3b228">&#9670;&nbsp;</a></span>uartRxBuf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uartRxBuf[<a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga630686ccbe0cb17e592951055a5da582">RXBUF_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00046">46</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
<a id="gac404dc63ccd5379ff301e0cedcbcdfb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac404dc63ccd5379ff301e0cedcbcdfb9">&#9670;&nbsp;</a></span>uartTxBuf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char uartTxBuf[<a class="el" href="../../d8/d62/group___m_c_u___a_p_p___w_r_a_p_p_e_r_s.html#ga923af2d146f214e75816a7f5993cee29">TXBUF_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="DocNodeLTR">This AT console needs some UART link </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html#l00045">45</a> of file <a class="el" href="../../d8/d3c/mcu__at__console__stm_8c_source.html">mcu_at_console_stm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
